<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title></title>
  </head>
  <body>
    <script>
      // concat, filter, map, slice, 스프레드 연산자
      console.log('1.=================== 스프레드 연산자')
      const a = [1,2,3];
      const b = [...a];
      b.push(4);
      console.log(`a1값은 ${a}`); // 1,2,3
      console.log(`b1값은 ${b}`); // 1,2,3,4


      console.log('2.=================== concat (추가하기)')
      const a2 = [1,2,3];
      const b2 = a2.concat(4); //a2 배열에 4라는 값을 추가해서 새 배열을 만들겠다
      console.log(`a2값은 ${a2}`); // 1,2,3
      console.log(`b2값은 ${b2}`); // 1,2,3,4
      // 스프레드 연산자를 이런식으로 쓰면 concat처럼 사용할 수도 있다
      const c2 = [0, ...a2, 4];
      console.log(`c2값은 ${c2}`); // 1,2,3,4

      console.log('3.=================== filter (걸러내기)') // filter는 보통 요소를 삭제할때 사용
      const a3 = [1,2,3];
      const b3 = a3.filter((n)=>{return n != 1}); // bool을 return 받는다 -> filter 함수는 배열을 순회하며 return값이 true인것만 걸러내준다
      console.log(`a3값은 ${a3}`); // 1,2,3
      console.log(`b3값은 ${b3}`); // 2,3

      console.log('4.=================== slice (잘라내기)')
      const a4 = [1,2,3];
      const b4 = a4.slice(0, 2);
      console.log(`a4값은 ${a4}`); // 1,2,3
      console.log(`b4값은 ${b4}`); // 1,2
      const c4 = [...a4.slice(0,2), 4, ...a4.slice(2,3)];
      console.log(`c4값은 ${c4}`); // 1,2,4,3

      console.log('5.=================== map (반복하기)') // map은 filter와 비슷하게 배열을 순회하며 해당 로직을 수행한 결과값을 전부 뿌려준다
      const a5 = [1,2,3];
      //a5.forEach((n) => { console.log(n); }); // 자바스크립트에서 forEach 사용법
      const b5 = a5.map((n)=>{ return n+1; });
      console.log(`a5값은 ${a5}`); // 1,2,3
      console.log(`b5값은 ${b5}`); // 2,3,4


      console.log('6.=================== object 수정')
      const a6 = { id:1, name:"a"};
      const b6 = { id:1, name:"a", name:"b"}; // 이런식으로 js object의 key값이 중복된다면 나중에 온 data로 덮어씌워짐
      const c6 = {...a6, name:"c"}; //따라서 여기서 는 a6의 값에서 name만 c로 덮어씌워서 수정됨
      console.log(a6); //name:a
      console.log(b6); //name:b
      console.log(c6); //name:c

      // 위를 활용하여 내가 수정할 데이터를 받아서 obj를 수정하고싶다면 아래처럼 obj 데이터를 ...을 활용해 넣어줘서 수정하면 된다
      const data = {name:"data"};
      const d6 = {...a6, ...data};
      console.log(d6); //name:data

      //그렇다면 obj가 들어있는 배열에서 수정요청이 들어온 값을 수정하려면
      const users = [
      { id:1, name:"a"},
      { id:2, name:"b"},
      { id:3, name:"c"},
      ];
      
      const updateUserDto = {id:2, name:"update2"}; // id가 2인 obj를 이 값으로 수정하라고 요청이 들어왔다 가정

      const newUsers = users.map((user)=>{return user.id === updateUserDto.id ? {...user, ...updateUserDto} : user;}); //깊은복사 수행
      
      console.log(newUsers);
    </script>
  </body>
</html>